---
- name: Load Configuration on Juniper Router
  hosts: localhost
  gather_facts: no
  
  tasks:
    - name: Check if config file exists and show content
      command: cat /root/R2
      register: file_content
      
    - name: Display file content
      debug:
        var: file_content.stdout_lines
    
    - name: Load configuration from file
      junipernetworks.junos.junos_config:
        src: /root/R2
        src_format: set
        update: update
        comment: Loaded by Ansible
        confirm_commit: true
        confirm: 10
      vars:
        ansible_connection: netconf
        ansible_network_os: junos
        ansible_host: 10.254.5.2
        ansible_port: 830
        ansible_user: ansible
        ansible_password: lab123
      register: result
      
    - name: Display result
      debug:
        var: result
